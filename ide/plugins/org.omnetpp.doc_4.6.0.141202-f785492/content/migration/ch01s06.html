<html><head><link rel="STYLESHEET" href="../book.css"  type="text/css"/><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>C++ code (cc/h files)</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Migrating OMNeT&#8288;+&#8288;+ Simulations From Version 3.x To 4.x"><link rel="up" href="ch01.html" title="Chapter 1. What has changed since 3.x?"><link rel="prev" href="ch01s05.html" title="Makefiles"><link rel="next" href="ch01s07.html" title="Environment variables"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">C++ code (cc/h files)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s05.html">Prev</a> </td><th width="60%" align="center">Chapter 1. What has changed since 3.x?</th><td width="20%" align="right"> <a accesskey="n" href="ch01s07.html">Next</a></td></tr></table><hr></div><div class="sect1" title="C++ code (cc/h files)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp85824"></a>C++ code (cc/h files)</h2></div></div></div><p>This is just a brief summary of API changes since 3.x. Please consult the
      <code class="literal">include/ChangeLog</code> file for detailed information.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Several header files have been renamed in <code class="literal">omnetpp/include</code>. (This
          should not affect simulation models, as they should only include
          <code class="literal">&lt;omnetpp.h&gt;</code>.)</p></li><li class="listitem"><p>Renamed: <code class="literal">cObject</code> became <code class="literal">cOwnedObject</code>, <code class="literal">cPolymorphic</code> became <code class="literal">cObject</code>,
          and <code class="literal">cNamedObject</code> was introduced in between. Several method names have changed in
          different classes. Check the <code class="literal">ChangeLog</code> file for details.</p></li><li class="listitem"><p>Added the <code class="literal">get</code> verb to the names of nearly all getter methods</p></li><li class="listitem"><p><code class="literal">&lt;omnetpp.h&gt;</code> now provides the C99 integer types and limit macros,
          even on systems that don't have <code class="literal">&lt;stdint.h&gt;</code></p></li><li class="listitem"><p><code class="literal">simtime_t</code> is now not double but class <code class="literal">SimTime</code> (64-bit fixed point
          number)</p></li><li class="listitem"><p>Added simtime compatibility mode: If needed, the simkernel can be
          compiled with <code class="literal">simtime_t</code> = <code class="literal">double</code>. For that, compile everything with
          <code class="literal">USE_DOUBLE_SIMTIME</code> defined (add <code class="literal">-DUSE_DOUBLE_SIMTIME</code> to <code class="literal">CFLAGS</code>).</p></li><li class="listitem"><p>Introduced inout gates. Note: with inout gates, <code class="literal">gate("gatename")</code> does not
          work, use <code class="literal">gate("gatename$i")</code> or <code class="literal">gate("gatename$o")</code> instead</p></li><li class="listitem"><p>Channels became first-class citizens: they have a common base class
          (<code class="literal">cComponent</code>) with <code class="literal">cModule</code>, they participate in the <code class="literal">initialize()</code>/<code class="literal">finish()</code>
          protocol, and so on</p></li><li class="listitem"><p>Introduced <code class="literal">cComponent</code>, a common base class for <code class="literal">cModule</code> and <code class="literal">cChannel</code>. Some
          new methods to mention: <code class="literal">isModule()</code>, <code class="literal">getNedTypeName()</code></p></li><li class="listitem"><p><code class="literal">cBasicChannel</code> renamed to <code class="literal">cDatarateChannel</code> and added <code class="literal">cIdealChannel</code> which
          lets messages through without any change and without any delay.</p></li><li class="listitem"><p>Exception handling changed: now all our exceptions subclass from
          <code class="literal">std::exception</code> (e.g. <code class="literal">cException</code> extends <code class="literal">std::exception</code>), and
          exceptions are now thrown by value not by pointer.</p></li><li class="listitem"><p><code class="literal">cOutVector</code>: removed half-hearted tuple=2 support from <code class="literal">cOutVector</code> and
          underlying infrastructure and added methods for metadata annotation: <code class="literal">setEnum()</code>,
          <code class="literal">setUnit()</code>, <code class="literal">setType()</code>, <code class="literal">setInterpolationMode()</code>, <code class="literal">setMin()</code>, <code class="literal">setMax()</code></p></li><li class="listitem"><p>Numerous changes related to <code class="literal">cDisplayString</code>. Please check
          <code class="literal">include/ChangeLog</code> for details.</p></li><li class="listitem"><p><code class="literal">cQueue</code>: <code class="literal">head()</code>/<code class="literal">tail()</code> removed, <code class="literal">back()</code>/<code class="literal">front()</code> added
          (insertion at back, pop from front); because of the head/tail change,
          iterator direction and meaning of <code class="literal">insertBefore()</code>/<code class="literal">insertAfter()</code>
          has also changed. Additionally, the boolean flag to specify
          ascending/descending order has been removed.</p></li><li class="listitem"><p><code class="literal">cMessage</code> changes: the length, bit error flag and encapsulated message
          <code class="literal">cMessage</code> fields got factored out from <code class="literal">cMessage</code>, into the <code class="literal">cPacket</code> class (which
          extends <code class="literal">cMessage</code>). All network packets (frames, datagrams, etc) are now
          supposed subclass from <code class="literal">cPacket</code>, not directly <code class="literal">cMessage</code>.</p></li><li class="listitem"><p>A new <code class="literal">cPacketQueue</code> class has been introduced to store <code class="literal">cPackets</code> and
          subclasses.</p></li><li class="listitem"><p>Global <code class="literal">findXXX(const char *name)</code> functions turned into
          static <code class="literal">cXXX::find(const char *name);</code> methods (affected:
          <code class="literal">findLink(), findFunction, findEnum, findChannelType, findNetworkType(),
          findModuleType()</code>)</p></li><li class="listitem"><p>Run number handling were made entirely the matter of <code class="literal">cEnvir</code>.
          <code class="literal">cSimulation::runNumber()</code> got removed. Also removed run number from
          the arg list of <code class="literal">cEnvir</code> callback functions.</p></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s05.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch01s07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Makefiles </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Environment variables</td></tr></table></div></body></html>
